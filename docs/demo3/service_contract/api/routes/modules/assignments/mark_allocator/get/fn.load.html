<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="GET /api/modules/{module_id}/assignments/{assignment_id}/mark_allocator"><title>load in api::routes::modules::assignments::mark_allocator::get - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../../../../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../../../../../static.files/rustdoc-916cea96.css"><meta name="rustdoc-vars" data-root-path="../../../../../../" data-static-root-path="../../../../../../static.files/" data-current-crate="api" data-themes="" data-resource-suffix="" data-rustdoc-version="1.87.0 (17067e9ac 2025-05-09)" data-channel="1.87.0" data-search-js="search-e7298875.js" data-settings-js="settings-d72f25bb.js" ><script src="../../../../../../static.files/storage-82c7156e.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../../../../../static.files/main-fb8c74a8.js"></script><noscript><link rel="stylesheet" href="../../../../../../static.files/noscript-893ab5e7.css"></noscript><link rel="alternate icon" type="image/png" href="../../../../../../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../../../../../../static.files/favicon-044be391.svg"></head><body class="rustdoc fn"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../../../../../api/index.html">api</a><span class="version">0.1.0</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">load</a></h2><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#path-parameters" title="Path Parameters">Path Parameters</a></li><li><a href="#example-request" title="Example Request">Example Request</a></li><li><a href="#success-response-200-ok" title="Success Response (200 OK)">Success Response (200 OK)</a></li><li><a href="#error-responses" title="Error Responses">Error Responses</a></li><li><a href="#mark-allocator-structure" title="Mark Allocator Structure">Mark Allocator Structure</a></li><li><a href="#notes" title="Notes">Notes</a></li></ul></section><div id="rustdoc-modnav"><h2><a href="index.html">In api::<wbr>routes::<wbr>modules::<wbr>assignments::<wbr>mark_<wbr>allocator::<wbr>get</a></h2></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../../../../../index.html">api</a>::<wbr><a href="../../../../index.html">routes</a>::<wbr><a href="../../../index.html">modules</a>::<wbr><a href="../../index.html">assignments</a>::<wbr><a href="../index.html">mark_allocator</a>::<wbr><a href="index.html">get</a></div><h1>Function <span class="fn">load</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../../../../../src/api/routes/modules/assignments/mark_allocator/get.rs.html#98-123">Source</a> </span></div><pre class="rust item-decl"><code>pub async fn load(__arg0: <a class="struct" href="../../../../../../axum/extract/path/struct.Path.html" title="struct axum::extract::path::Path">Path</a>&lt;(<a class="primitive" href="https://doc.rust-lang.org/1.87.0/std/primitive.i64.html">i64</a>, <a class="primitive" href="https://doc.rust-lang.org/1.87.0/std/primitive.i64.html">i64</a>)&gt;) -&gt; impl <a class="trait" href="../../../../../../axum_core/response/into_response/trait.IntoResponse.html" title="trait axum_core::response::into_response::IntoResponse">IntoResponse</a></code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>GET /api/modules/{module_id}/assignments/{assignment_id}/mark_allocator</p>
<p>Load the mark allocator JSON configuration for a specific assignment. Accessible to users with
appropriate permissions assigned to the module.</p>
<p>The mark allocator configuration defines how marks are distributed across different tasks and
criteria within an assignment. This configuration is used by the grading system to determine
the weight and allocation of marks for various assessment components.</p>
<h4 id="path-parameters"><a class="doc-anchor" href="#path-parameters">§</a>Path Parameters</h4>
<ul>
<li><code>module_id</code> (i64): The ID of the module containing the assignment</li>
<li><code>assignment_id</code> (i64): The ID of the assignment to load mark allocator for</li>
</ul>
<h4 id="example-request"><a class="doc-anchor" href="#example-request">§</a>Example Request</h4><div class="example-wrap"><pre class="language-bash"><code>curl -X GET http://localhost:3000/api/modules/1/assignments/2/mark_allocator \
  -H &quot;Authorization: Bearer &lt;token&gt;&quot;</code></pre></div><h4 id="success-response-200-ok"><a class="doc-anchor" href="#success-response-200-ok">§</a>Success Response (200 OK)</h4><div class="example-wrap"><pre class="language-json"><code>{
  &quot;success&quot;: true,
  &quot;message&quot;: &quot;Mark allocator successfully loaded.&quot;,
  &quot;data&quot;: {
    &quot;tasks&quot;: [
      {
        &quot;task_number&quot;: 1,
        &quot;weight&quot;: 0.4,
        &quot;criteria&quot;: [
          {
            &quot;name&quot;: &quot;Correctness&quot;,
            &quot;weight&quot;: 0.7
          },
          {
            &quot;name&quot;: &quot;Code Quality&quot;,
            &quot;weight&quot;: 0.3
          }
        ]
      },
      {
        &quot;task_number&quot;: 2,
        &quot;weight&quot;: 0.6,
        &quot;criteria&quot;: [
          {
            &quot;name&quot;: &quot;Functionality&quot;,
            &quot;weight&quot;: 0.8
          },
          {
            &quot;name&quot;: &quot;Documentation&quot;,
            &quot;weight&quot;: 0.2
          }
        ]
      }
    ],
    &quot;total_weight&quot;: 1.0
  }
}</code></pre></div><h4 id="error-responses"><a class="doc-anchor" href="#error-responses">§</a>Error Responses</h4>
<p><strong>404 Not Found</strong> - Module or assignment folder does not exist</p>
<div class="example-wrap"><pre class="language-json"><code>{
  &quot;error&quot;: &quot;Module or assignment folder does not exist&quot;
}</code></pre></div>
<p><strong>500 Internal Server Error</strong> - Failed to load allocator</p>
<div class="example-wrap"><pre class="language-json"><code>{
  &quot;error&quot;: &quot;Failed to load allocator&quot;
}</code></pre></div><h4 id="mark-allocator-structure"><a class="doc-anchor" href="#mark-allocator-structure">§</a>Mark Allocator Structure</h4>
<p>The mark allocator configuration typically contains:</p>
<ul>
<li><code>tasks</code>: Array of task configurations with mark allocations
<ul>
<li><code>task_number</code>: Sequential number of the task</li>
<li><code>weight</code>: Relative weight of this task in the overall assignment (0.0 to 1.0)</li>
<li><code>criteria</code>: Array of grading criteria for this task
<ul>
<li><code>name</code>: Name of the grading criterion</li>
<li><code>weight</code>: Weight of this criterion within the task (0.0 to 1.0)</li>
</ul>
</li>
</ul>
</li>
<li><code>total_weight</code>: Sum of all task weights (should equal 1.0)</li>
</ul>
<h4 id="notes"><a class="doc-anchor" href="#notes">§</a>Notes</h4>
<ul>
<li>The mark allocator configuration is stored as a JSON file in the module/assignment directory</li>
<li>This configuration is used by the grading system to calculate final marks</li>
<li>Task weights should sum to 1.0 across all tasks in the assignment</li>
<li>Criteria weights within each task should also sum to 1.0</li>
<li>Mark allocator loading is restricted to users with appropriate module permissions</li>
</ul>
</div></details></section></div></main></body></html>